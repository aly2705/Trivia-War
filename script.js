//Dates
const category0 = {
  name: "Arts, Literature & Movies",
  color: "orange",
  numQuestions: 20,
  question1: new Map([
    ["question", "In which US city is Broadway located?"],
    [1, "California"],
    [2, "New York"],
    [3, "San Francisco"],
    [true, 2],
  ]),
  question2: new Map([
    ["question", "What is the longest-running Broadway show?"],
    [1, "Mamma Mia!"],
    [2, "Les Misérables"],
    [3, "The Phantom of the opera"],
    [true, 3],
  ]),
  question3: new Map([
    [
      "question",
      "Which show is the highest-grossing production on Broadway ever?",
    ],
    [1, "The Lion King"],
    [2, "Beauty and the Beast"],
    [3, "The Phantom of the opera"],
    [true, 1],
  ]),
  question4: new Map([
    ["question", "In which period did ballet originate?"],
    [1, "Middle Ages"],
    [2, "Italian Renaissance"],
    [3, "Late Modern Period "],
    [true, 2],
  ]),
  question5: new Map([
    [
      "question",
      "What is the name of the most memorable/popular ballet of all time?",
    ],
    [1, "Sleeping Beauty "],
    [2, "Swan lake"],
    [3, "The Nutcracker"],
    [true, 3],
  ]),
  question6: new Map([
    [
      "question",
      "Who wrote “Old Man and The Sea” and is considered one of the greatest writers of the 20thcentury?",
    ],
    [1, "Ernest Hemingway"],
    [2, "James Joyes"],
    [3, "George Orwell"],
    [true, 1],
  ]),
  question7: new Map([
    [
      "question",
      "What Danish author is considered by many to be the most prolific fairy tale writer?",
    ],
    [1, "Wilhelm Grimm"],
    [2, "Hans Christian Andersen"],
    [3, "Brothers Grimm"],
    [true, 2],
  ]),
  question8: new Map([
    ["question", "Who is the writer of “Merchant of Venice”?"],
    [1, "John Webster "],
    [2, "Christopher Marlowe"],
    [3, "William Shakespeare"],
    [true, 3],
  ]),
  question9: new Map([
    ["question", "“Adventure of Sherlock Holmes” was written by which writer?"],
    [1, "Arthur Conan Doyle"],
    [2, "Edgar Allan Poe"],
    [3, "Henry David Thoreau "],
    [true, 1],
  ]),
  question10: new Map([
    [
      "question",
      "What is the name of the fourth book in the Harry Potter series?",
    ],
    [1, "Harry Potter and the Pheonix Order"],
    [2, "Harry Potter and the Goblet Of Fire"],
    [3, "Harry Potter and the Prisoner Of Azkaban"],
    [true, 2],
  ]),
  question11: new Map([
    ["question", "The Hunger Games series was written by which author?"],
    [1, "George R. R. Martin"],
    [2, "Stephen King"],
    [3, "Suzanne Collins"],
    [true, 3],
  ]),
  question12: new Map([
    ["question", "Which country is Aesop’s Fables believed to originate in?"],
    [1, "Greece"],
    [2, "Italy"],
    [3, "Russia"],
    [true, 1],
  ]),
  question13: new Map([
    [
      "question",
      " In Herman Melville’s novel “Moby Dick,” who was the loyal, reasonable first mate?",
    ],
    [1, "Passepartout"],
    [2, "Starbuck"],
    [3, "Sancho Panza"],
    [true, 2],
  ]),
  question14: new Map([
    ["question", "The book “Da Vinci Code,” was written by who?"],
    [1, "Sam Christer"],
    [2, "John Grisham"],
    [3, "Dan Brown"],
    [true, 3],
  ]),
  question15: new Map([
    ["question", "What was the name of the rock band formed by Jimmy Page?"],
    [1, "Led Zeppelin"],
    [2, "AC/DC"],
    [3, "Pink Floyd"],
    [true, 1],
  ]),
  question16: new Map([
    ["question", "Which country did AC/DC originate in?"],
    [1, "North America"],
    [2, "Australia"],
    [3, "England"],
    [true, 2],
  ]),
  question17: new Map([
    ["question", "How many films did Sean Connery play James Bond in?"],
    [1, "5"],
    [2, "8"],
    [3, "7"],
    [true, 3],
  ]),
  question18: new Map([
    ["question", "How many Lord of the Rings films are there?"],
    [1, "3"],
    [2, "7"],
    [3, "5"],
    [true, 1],
  ]),
  question19: new Map([
    [
      "question",
      "What was the name of the actor who played Jack Dawson in Titanic?",
    ],
    [1, "Billy Zane"],
    [2, "Leonardo DiCaprio"],
    [3, "Brad Pitt"],
    [true, 2],
  ]),
  question20: new Map([
    ["question", "In what year was the first episode of South Park aired?"],
    [1, "1998"],
    [2, "1999"],
    [3, "1997"],
    [true, 3],
  ]),
};
const category1 = {
  name: "Sports & Games",
  color: "lightblue",
  numQuestions: 17,
  question1: new Map([
    [
      "question",
      "How many soccer players should each team have on the field at the start of each match?",
    ],
    [1, "13"],
    [2, "10"],
    [3, "11"],
    [true, 3],
  ]),
  question2: new Map([
    [
      "question",
      "When Michael Jordan played for the Chicago Bulls, how many NBA Championships did he win?",
    ],
    [1, "8"],
    [2, "6"],
    [3, "10"],
    [true, 2],
  ]),
  question3: new Map([
    ["question", "Which Williams sister has won more Grand Slam titles?"],
    [1, "Serena"],
    [2, "Oracene"],
    [3, "Venus"],
    [true, 1],
  ]),
  question4: new Map([
    ["question", "What country won the very first FIFA World Cup in 1930?"],
    [1, "Spain"],
    [2, "Uruguay"],
    [3, "Brazil"],
    [true, 2],
  ]),
  question5: new Map([
    [
      "question",
      "In what year was the first-ever Wimbledon Championship held?",
    ],
    [1, "1877"],
    [2, "1890"],
    [3, "1882"],
    [true, 1],
  ]),
  question6: new Map([
    [
      "question",
      "Which Jamaican runner is an 11-time world champion and holds the record in the 100 and 200-meter race?",
    ],
    [1, "Yohan Blake"],
    [2, "Asafa Powell"],
    [3, "Usain Bolt"],
    [true, 3],
  ]),
  question7: new Map([
    [
      "question",
      "Which boxer was known as “The Greatest” and “The People’s Champion”?",
    ],
    [1, "Mike Tyson"],
    [2, "Muhammad Ali"],
    [3, "George Foreman"],
    [true, 2],
  ]),
  question8: new Map([
    ["question", "What sport was Jesse Owens involved in?"],
    [1, "Track and field"],
    [2, "Road Running"],
    [3, "Cross Country"],
    [true, 1],
  ]),
  question9: new Map([
    ["question", "How many cards are there in a deck of Uno?"],
    [1, "115"],
    [2, "94"],
    [3, "108"],
    [true, 3],
  ]),
  question10: new Map([
    ["question", "In which board game do you try to solve a murder?"],
    [1, "Activity Crime"],
    [2, "Clue"],
    [3, "Dark Stories"],
    [true, 2],
  ]),
  question11: new Map([
    [
      "question",
      "In chess, the queen has the combined movement of which two pieces?",
    ],
    [1, "bishop and rook"],
    [2, "bishop and pawn"],
    [3, "knight and rook"],
    [true, 1],
  ]),
  question12: new Map([
    [
      "question",
      "Which of these games includes the phrase “Do not pass go, do not collect $200”?",
    ],
    [1, "Activity Bank Edition"],
    [2, "Catan"],
    [3, "Monopoly"],
    [true, 3],
  ]),
  question13: new Map([
    ["question", "The video game “Happy Feet” features what animals?"],
    [1, "Polar Bears"],
    [2, "Penguins"],
    [3, "Birds"],
    [true, 2],
  ]),
  question14: new Map([
    ["question", "What sport is featured in the video game “FIFA”?"],
    [1, "Football"],
    [2, "Volleyball"],
    [3, "Baseball"],
    [true, 1],
  ]),
  question15: new Map([
    [
      "question",
      "What classic video game requires you to eat all the dots throughout a maze?",
    ],
    [1, "Brick Breaker"],
    [2, "Smart Algernon"],
    [3, "Pac-Man"],
    [true, 3],
  ]),
  question16: new Map([
    [
      "question",
      "Which Street Fighter character wears a white outfit and a red headband?",
    ],
    [1, "Mario"],
    [2, "Ryu"],
    [3, "Luigi"],
    [true, 2],
  ]),
  question17: new Map([
    ["question", "“Astro Boy” is what genre of a video game?"],
    [1, "Action"],
    [2, "Strategy"],
    [3, "Survival"],
    [true, 1],
  ]),
};
const category2 = {
  name: "Technology, Economy & Bussiness",
  color: "yellowgreen",
  numQuestions: 18,
  question1: new Map([
    [
      "question",
      "In a website browser address bar, what does “www” stand for?",
    ],
    [1, "World wide web"],
    [2, "World working web"],
    [3, "Web working widely"],
    [true, 1],
  ]),
  question2: new Map([
    ["question", "What year was the very first model of the iPhone released?"],
    [1, "2006"],
    [2, "2007"],
    [3, "2008"],
    [true, 2],
  ]),
  question3: new Map([
    [
      "question",
      "What’s the shortcut for the “undo” function on most computers?",
    ],
    [1, "ctrl alt <-"],
    [2, "ctrl u"],
    [3, "ctrl z"],
    [true, 3],
  ]),
  question4: new Map([
    ["question", "What is often seen as the smallest unit of memory?"],
    [1, "byte"],
    [2, "kilobyte"],
    [3, "megabyte"],
    [true, 2],
  ]),
  question5: new Map([
    ["question", "Is Java a type of OS?"],
    [1, "Yes"],
    [2, "No"],
    [3, "It's up to the programmer"],
    [true, 2],
  ]),
  question6: new Map([
    ["question", "Who is often called the father of the computer?"],
    [1, "George Boole"],
    [2, "John Von Neumann"],
    [3, "Charles Babbage"],
    [true, 3],
  ]),
  question7: new Map([
    ["question", "What does “HTTP” stand for?"],
    [1, "Hyperlink Transfer Text Protocol"],
    [2, "HyperText Transfer Protocol"],
    [3, "HyperMarkup for Text and Transfer Processes"],
    [true, 2],
  ]),
  question8: new Map([
    ["question", "What is the name of the man who launched eBay back in 1995?"],
    [1, "Pierre Omidyar"],
    [2, "Jamie Iannone"],
    [3, "Thomas J. Tierney"],
    [true, 1],
  ]),
  question9: new Map([
    ["question", "Which email service is owned by Microsoft?"],
    [1, "Gmail"],
    [2, "Yahoo Mail"],
    [3, "Hotmail"],
    [true, 3],
  ]),
  question10: new Map([
    [
      "question",
      "Google Chrome, Safari, Firefox, and Explorer are different types of what?",
    ],
    [1, "Mobile applications"],
    [2, "Web Browsers"],
    [3, "OSs"],
    [true, 2],
  ]),
  question11: new Map([
    ["question", "What was Twitter’s original name?"],
    [1, "twitter"],
    [2, "birdy"],
    [3, "twittify"],
    [true, 1],
  ]),
  question12: new Map([
    ["question", "Who is the richest person in the world as of 2021?"],
    [1, "Bill Gates"],
    [2, "Elon Musk"],
    [3, "Jeff Bezos"],
    [true, 2],
  ]),
  question13: new Map([
    ["question", "Bill Gates is the founder of which company?"],
    [1, "Google"],
    [2, "Apple"],
    [3, "Microsoft"],
    [true, 3],
  ]),
  question14: new Map([
    ["question", "In what year did Steve Jobs die?"],
    [1, "2011"],
    [2, "2012"],
    [3, "2013"],
    [true, 1],
  ]),
  question15: new Map([
    ["question", "Larry Page is the CEO of which company?"],
    [1, "Amazon"],
    [2, "eBay"],
    [3, "Google"],
    [true, 3],
  ]),
  question16: new Map([
    ["question", "Which watch company has a pointed crown as its logo?"],
    [1, "Fossil"],
    [2, "Rolex"],
    [3, "Pandora"],
    [true, 2],
  ]),
  question17: new Map([
    ["question", "What is the slogan of Apple Inc.?"],
    [1, "Think different"],
    [2, "Just Do It"],
    [3, "Advancement Through Technology"],
    [true, 1],
  ]),
  question18: new Map([
    ["question", "What is Hewlett Packard (HP) originally known for?"],
    [1, "Computer Accesories"],
    [2, "Printers"],
    [3, "Laptops"],
    [true, 2],
  ]),
};
const category3 = {
  name: "Science & Health",
  color: "orangered",
  numQuestions: 20,
  question1: new Map([
    ["question", "1. Who discovered penicillin? "],
    [1, "Paul Hermann Müller"],
    [2, "Alexander Fleming"],
    [3, "Thomas Hunt Morgan"],
    [true, 2],
  ]),
  question2: new Map([
    ["question", " Who was the first woman to win a Nobel Prize (in 1903)?"],
    [1, "Marie Curie"],
    [2, "Pearl Buck"],
    [3, "Mother Teresa"],
    [true, 1],
  ]),
  question3: new Map([
    ["question", "What part of the atom has no electric charge?"],
    [1, "proton"],
    [2, "electron"],
    [3, "neutron"],
    [true, 2],
  ]),
  question4: new Map([
    ["question", "What is the symbol for potassium?"],
    [1, "P"],
    [2, "K"],
    [3, "Ps"],
    [true, 2],
  ]),
  question5: new Map([
    ["question", "What is meteorology the study of?"],
    [1, "The weather"],
    [2, "The stars"],
    [3, "Polar Auroras"],
    [true, 1],
  ]),
  question6: new Map([
    ["question", "Which planet is the hottest in the solar system?"],
    [1, "Mars"],
    [2, "Mercury"],
    [3, "Venus"],
    [true, 3],
  ]),
  question7: new Map([
    ["question", "Which natural disaster is measured with a Richter scale?"],
    [1, "Hurricanes"],
    [2, "Earthquakes"],
    [3, "Volcano Eruptions"],
    [true, 2],
  ]),
  question8: new Map([
    ["question", "What animals are pearls found in?"],
    [1, "Oysters"],
    [2, "Shrimp"],
    [3, "Squid"],
    [true, 1],
  ]),
  question9: new Map([
    ["question", "Which planet has the most gravity?"],
    [1, "Saturn"],
    [2, "Uranus"],
    [3, "Jupiter"],
    [true, 3],
  ]),
  question10: new Map([
    ["question", "How many molecules of oxygen does ozone have?"],
    [1, "1"],
    [2, "2"],
    [3, "3"],
    [true, 3],
  ]),
  question11: new Map([
    ["question", "Which organ has four chambers?"],
    [1, "The heart"],
    [2, "The stomach"],
    [3, "The brain"],
    [true, 1],
  ]),
  question12: new Map([
    ["question", "In which body part can you find the femur?"],
    [1, "Neck"],
    [2, "Torso"],
    [3, "Leg"],
    [true, 3],
  ]),
  question13: new Map([
    ["question", "What is your body’s largest organ?"],
    [1, "Small Intestine"],
    [2, "The skin"],
    [3, "Neural Pathways"],
    [true, 2],
  ]),
  question14: new Map([
    ["question", "What kind of cells are found in the brain?"],
    [1, "Neurons"],
    [2, "Lymphocytes"],
    [3, "Stem cells"],
    [true, 1],
  ]),
  question15: new Map([
    ["question", "Which bone are babies born without?"],
    [1, "Fibula Bone"],
    [2, "Radius Bone"],
    [3, "Knee Cap"],
    [true, 3],
  ]),
  question16: new Map([
    [
      "question",
      "About how many taste buds does the average human tongue have?",
    ],
    [1, "15 000"],
    [2, "10 000"],
    [3, "12 000"],
    [true, 2],
  ]),
  question17: new Map([
    ["question", "What percentage of our bodies is made up of water?"],
    [1, "60-65%"],
    [2, "65-70%"],
    [3, "70-75%"],
    [true, 1],
  ]),
  question18: new Map([
    ["question", "Which element is said to keep bones strong?"],
    [1, "Vitamin B3"],
    [2, "Iron"],
    [3, "Calcium"],
    [true, 3],
  ]),
  question19: new Map([
    ["question", "What does the acronym AIDS stand for?"],
    [1, "AutoImmune Deficiency Syndrome"],
    [2, "Acquired Immune Deficiency Syndrome"],
    [3, "AntiImmunity Deficiency Syndrome"],
    [true, 2],
  ]),
  question20: new Map([
    ["question", "How many times does the heartbeat per day?"],
    [1, "About 90 000"],
    [2, "About 95 000"],
    [3, "More than 100 000"],
    [true, 3],
  ]),
};
const category4 = {
  name: "Around the world",
  color: "yellow",
  numQuestions: 17,
  question1: new Map([
    ["question", "Which country produces the most coffee in the world?"],
    [1, "Vietnam"],
    [2, "Colombia"],
    [3, "Brazil"],
    [true, 3],
  ]),
  question2: new Map([
    ["question", " Which country invented tea?"],
    [1, "England"],
    [2, "China"],
    [3, "Indonesia"],
    [true, 2],
  ]),
  question3: new Map([
    ["question", " Which kind of alcohol is Russia is notoriously known for?"],
    [1, "Vodka"],
    [2, "Whisky"],
    [3, "Skotch"],
    [true, 1],
  ]),
  question4: new Map([
    ["question", "What is the national dish of Spain?"],
    [1, "Quesadilla"],
    [2, "Paella"],
    [3, "Burrito"],
    [true, 2],
  ]),
  question5: new Map([
    ["question", "Which European nation was said to invent hot dogs?"],
    [1, "Germany"],
    [2, "Poland"],
    [3, "Denmark"],
    [true, 1],
  ]),
  question6: new Map([
    ["question", "Which country is responsible for giving us pizza and pasta?"],
    [1, "San Marino"],
    [2, "Vatican"],
    [3, "Italy"],
    [true, 3],
  ]),
  question7: new Map([
    [
      "question",
      "What is the name of the thin, but a long country that spans more than half of the western coast of South America?",
    ],
    [1, "Peru"],
    [2, "Chile"],
    [3, "Brazil"],
    [true, 2],
  ]),
  question8: new Map([
    ["question", "Which American state is the largest (by area)?"],
    [1, "Alaska"],
    [2, "Texas"],
    [3, "California"],
    [true, 1],
  ]),
  question9: new Map([
    ["question", "What is the capital of New Zealand?"],
    [1, "Sydney"],
    [2, "Androrra"],
    [3, "Wellington"],
    [true, 3],
  ]),
  question10: new Map([
    [
      "question",
      "Which two countries share the longest (or largest) international border?",
    ],
    [1, "Chile and Peru"],
    [2, "Canada and the USA"],
    [3, "Russia and East Europe"],
    [true, 2],
  ]),
  question11: new Map([
    ["question", "What is the smallest country in the world?"],
    [1, "Vatican City"],
    [2, "Malta Island"],
    [3, "Luxemburg"],
    [true, 1],
  ]),
  question12: new Map([
    ["question", "Which continent is the largest?"],
    [1, "Antarctica"],
    [2, "North America"],
    [3, "Asia"],
    [true, 3],
  ]),
  question13: new Map([
    ["question", "Which of the Seven Wonders is located in Egypt?"],
    [1, "Machu Picchu"],
    [2, "The Pyramids of Giza"],
    [3, "The Great Wall of China."],
    [true, 2],
  ]),
  question14: new Map([
    ["question", "Which (hot) desert is the largest in the world?"],
    [1, "The Sahara Desert"],
    [2, "The Atacama Desert"],
    [3, "The Gobi Desert"],
    [true, 1],
  ]),
  question15: new Map([
    ["question", "What is the name of the world’s longest river?"],
    [1, "Danube"],
    [2, "Volga"],
    [3, "The Nile"],
    [true, 3],
  ]),
  question16: new Map([
    ["question", "Which city in India would you find the Taj Mahal in?"],
    [1, "Mumbai"],
    [2, "Agra"],
    [3, "Delhi"],
    [true, 2],
  ]),
  question17: new Map([
    ["question", "What is the tallest building in the world?"],
    [1, "Burj Khalifa"],
    [2, "Taipei 101"],
    [3, "Shanghai Tower"],
    [true, 1],
  ]),
};
const category5 = {
  name: "History & Mithology",
  color: "orchid",
  numQuestions: 20,
  question1: new Map([
    ["question", "By what name were the Egyptian kings/rulers known as?"],
    [1, "Gods"],
    [2, "Pharaos"],
    [3, "Emperors"],
    [true, 2],
  ]),
  question2: new Map([
    ["question", "How many Pyramids of Giza were made?"],
    [1, "Three"],
    [2, "Two"],
    [3, "Four"],
    [true, 1],
  ]),
  question3: new Map([
    ["question", "Which queen was Julius Caesar involved with?"],
    [1, "Nemesis"],
    [2, "Nefertiti"],
    [3, "Cleopatra"],
    [true, 3],
  ]),
  question4: new Map([
    ["question", "Where did the Franks settle after defeating the Romans?"],
    [1, "Rome"],
    [2, "Gaul"],
    [3, "Constantinople"],
    [true, 2],
  ]),
  question5: new Map([
    ["question", "How long did the Middle Ages last?"],
    [1, "About 1000 years"],
    [2, "About 500 years"],
    [3, "About 800 years"],
    [true, 1],
  ]),
  question6: new Map([
    ["question", "Which religion dominated the Middle Ages?"],
    [1, "Orthodixism"],
    [2, "Islamism"],
    [3, "Catholicism"],
    [true, 3],
  ]),
  question7: new Map([
    ["question", "In which year World War I begin?"],
    [1, "1913"],
    [2, "1914"],
    [3, "1915"],
    [true, 2],
  ]),
  question8: new Map([
    ["question", "In which country Adolph Hitler was born?"],
    [1, "Austria"],
    [2, "Germany"],
    [3, "Poland"],
    [true, 1],
  ]),
  question9: new Map([
    ["question", "John F. Kennedy was assassinated in which city?"],
    [1, "New York"],
    [2, "Austin"],
    [3, "Dallas"],
    [true, 3],
  ]),
  question10: new Map([
    ["question", "On Sunday 18th June 1815, which famous battle took place?"],
    [1, "The Boston Tea Party"],
    [2, "The Battle of Waterloo"],
    [3, "The Battle of Hastings"],
    [true, 2],
  ]),
  question11: new Map([
    ["question", "What is the name of the home of the Greek Gods?"],
    [1, "Olympus"],
    [2, "Athens"],
    [3, "Greece"],
    [true, 1],
  ]),
  question12: new Map([
    ["question", "Which warrior’s weakness was their heel?"],
    [1, "Odysseus"],
    [2, "Hercules"],
    [3, "Achilles"],
    [true, 3],
  ]),
  question13: new Map([
    ["question", "Who was the messenger of the gods?"],
    [1, "Hestia"],
    [2, "Hermes"],
    [3, "Hades"],
    [true, 2],
  ]),
  question14: new Map([
    ["question", "What’s the name of the paradise warriors go to after death?"],
    [1, "Valhalla"],
    [2, "Heaven"],
    [3, "Afterlife"],
    [true, 1],
  ]),
  question15: new Map([
    ["question", "Thor was the son of which God?"],
    [1, "Heimdall"],
    [2, "Loki"],
    [3, "Odin"],
    [true, 3],
  ]),
  question16: new Map([
    ["question", "Romulus and Remus were raised by what animal?"],
    [1, "A she-bear"],
    [2, "A she-wolf"],
    [3, "A gorilla"],
    [true, 2],
  ]),
  question17: new Map([
    ["question", "The Roman God of War inspired the name of which planet?"],
    [1, "Mars"],
    [2, "Jupiter"],
    [3, "Venus"],
    [true, 1],
  ]),
  question18: new Map([
    ["question", "What was the name of the Egyptian God of the Sun?"],
    [1, "Osiris"],
    [2, "Aphophis"],
    [3, "Ra"],
    [true, 3],
  ]),
  question19: new Map([
    ["question", "Anubis, the God of Death, had the head of a... "],
    [1, "Raven"],
    [2, "Jackal"],
    [3, "Cat"],
    [true, 2],
  ]),
  question20: new Map([
    [
      "question",
      "Set throws Osiris into which river, after tricking him into a coffin?",
    ],
    [1, "The Nile"],
    [2, "Lake Nasser"],
    [3, "the Suez Canal"],
    [true, 1],
  ]),
};

const categories = [
  category0,
  category1,
  category2,
  category3,
  category4,
  category5,
];

//Elements
const tiles = Array.from(document.querySelectorAll(".tile"));
const player = document.querySelectorAll(".player");

const modal = document.querySelector(".instructions");
const quiz = document.querySelector(".quiz");
const overlay = document.querySelector(".overlay");
const categoryLabel = document.querySelector("#category");
const questionLabel = document.querySelector("#question");
const checkboxes = Array.from(document.querySelectorAll(".checkbox"));
const answers = Array.from(document.querySelectorAll(".answer"));
const countdown = document.querySelector("#countdown");

const sliceEls1 = [];
for (let i = 0; i < 6; i++) {
  sliceEls1.push(document.querySelectorAll(`.slice__${i}`)[0]);
}
const sliceEls2 = [];
for (let i = 0; i < 6; i++) {
  sliceEls2.push(document.querySelectorAll(`.slice__${i}`)[1]);
}

const diceImg = document.querySelector(".img__dice");
const diceBtn = document.querySelector(".btn__dice");
const instructBtn = document.querySelector(".btn__instruct");
const closeModalBtn = document.querySelector(".close__modal");
const newBtn = document.querySelector(".btn__new");
const submitBtn = document.querySelector(".btn__submit");

//Functions
const openModal = function () {
  modal.classList.remove("hidden");
  overlay.classList.remove("hidden");
};
const closeModal = function () {
  modal.classList.add("hidden");
  overlay.classList.add("hidden");
};
const escapeModal = function (e) {
  if (e.key === "Escape") {
    closeModal();
  }
};
const switchPlayers = function () {
  if (player1.el.classList.contains("player__active")) {
    player1.el.classList.remove("player__active");
    activePlayer = player2;
  } else {
    player2.el.classList.remove("player__active");
    activePlayer = player1;
  }
  activePlayer.el.classList.add("player__active");
  currentTile = activePlayer.position;
};
const displayTokens = function () {
  tiles[player1.position].innerHTML += player1.tokenSVG;
  tiles[player2.position].innerHTML += player2.tokenSVG;
};
const openQuiz = function () {
  quiz.classList.remove("hidden");
  overlay.classList.remove("hidden");
};
const closeQuiz = function () {
  quiz.classList.add("hidden");
  overlay.classList.add("hidden");
  switchPlayers();
};
const pieceOut = function () {
  activePlayer === player1
    ? (sliceEls1[num].style.stroke = player1.color)
    : (sliceEls2[num].style.stroke = player2.color);
};

//Player objects & global declarations
const player1 = {
  color: "rgb(212, 164, 178)",
  el: player[0],
  position: 0,
  tokenSVG: `<svg
  class="token token__1"
  width="4rem"
  height="4rem"
>
  <circle cx="20" cy="20" r="12" style="fill: rgb(212, 164, 178); stroke: black" />
</svg>`,
};
const player2 = {
  color: "rgb(121, 126, 180)",
  el: player[1],
  position: 0,
  tokenSVG: `<svg
  class="token token__2"
  width="4rem"
  height="4rem"
>
  <circle cx="20" cy="20" r="12" style="fill: rgb(121, 126, 180); stroke: black" />
</svg>`,
};
let number, category, num, question, timer, remSec;
//Default UI
let activePlayer = player1;
activePlayer.el.classList.add("player__active");
let currentTile = activePlayer.position;
displayTokens();

//Event listeners

diceBtn.addEventListener("click", function () {
  //No winner
  if (
    !player1.el.classList.contains("player__winner") &&
    !player2.el.classList.contains("player__winner")
  ) {
    //Clear current tile
    tiles[currentTile].innerHTML = currentTile === 0 ? "Start" : currentTile;

    //Generate dice roll, display dice & update current position
    number = Math.trunc(Math.random() * 6 + 1);
    diceImg.src = `dice-${number}.png`;
    currentTile += number;

    //Display tokens after changing positions
    if (currentTile > 35) currentTile = currentTile - 36;
    activePlayer.position = currentTile;
    displayTokens();

    //Generate quiz
    category = categories.find(
      (category) => category.color === tiles[currentTile].style.backgroundColor
    );
    num = categories.findIndex(
      (category) => category.color === tiles[currentTile].style.backgroundColor
    );
    //Random question in the category
    question =
      category[
        `question${Math.trunc(Math.random() * category.numQuestions + 1)}`
      ];

    //Display quiz
    quiz.style.backgroundColor = category.color;
    categoryLabel.textContent = `Category: ${category.name}`;
    questionLabel.textContent = question.get("question");
    answers.forEach(
      (answer, num) => (answer.textContent = question.get(num + 1))
    );
    checkboxes.forEach((checkbox) => (checkbox.checked = false));

    //Open quiz in 0.5s & display countdown
    setTimeout(openQuiz, 500);
    timer = setTimeout(function () {
      pieceOut();
      closeQuiz();
    }, 20000);
    remSec = 20;
    countdown.textContent = `Remaining time: ${remSec} sec`;
    interval = setInterval(() => {
      remSec--;
      countdown.textContent = `Remaining time: ${remSec} sec`;
      if (remSec === 0) clearInterval(interval);
    }, 1000);
  }
});
submitBtn.addEventListener("click", function (e) {
  e.preventDefault();
  //Clear timers
  clearTimeout(timer);
  clearInterval(interval);

  //Check answer
  if (
    checkboxes[question.get(true) - 1].checked &&
    checkboxes.reduce(
      (acc, checkbox) => (checkbox.checked ? acc + 1 : acc),
      0
    ) === 1
  ) {
    activePlayer === player1
      ? (sliceEls1[num].style.stroke = category.color)
      : (sliceEls2[num].style.stroke = category.color);
  } else {
    pieceOut();
  }

  //Check for winner
  if (sliceEls1.every((slice) => slice.style.stroke !== "rgb(212, 164, 178)")) {
    player1.el.classList.add("player__winner");
  }
  if (sliceEls2.every((slice) => slice.style.stroke !== "rgb(121, 126, 180)")) {
    player2.el.classList.add("player__winner");
  }

  //Close quiz and switch players
  closeQuiz();
});

//New Game
newBtn.addEventListener("click", function () {
  //Empty the pies
  sliceEls1.forEach((slice) => (slice.style.stroke = "rgb(212, 164, 178)"));
  sliceEls2.forEach((slice) => (slice.style.stroke = "rgb(121, 126, 180)"));
  //Place tokens to start
  tiles[player1.position].innerHTML = currentTile === 0 ? "Start" : currentTile;
  tiles[player2.position].innerHTML = currentTile === 0 ? "Start" : currentTile;
  player1.position = 0;
  player2.position = 0;
  //Hide dice
  diceImg.src = "";
  //Make player1 player active
  activePlayer = player1;
  currentTile = activePlayer.position;
  player1.el.classList.add("player__active");
  player2.el.classList.remove("player__active");
  player1.el.classList.remove("player__winner");
  player2.el.classList.remove("player__winner");
  displayTokens();
});

//Open modal with instructions
instructBtn.addEventListener("click", openModal);
overlay.addEventListener("click", function () {
  if (!modal.classList.contains("hidden")) closeModal();
});
closeModalBtn.addEventListener("click", closeModal);
document.addEventListener("keydown", escapeModal);
